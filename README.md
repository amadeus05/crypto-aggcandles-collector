CVD –≤ 1m –≤—Å—ë –µ—â—ë –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ ¬´–ø–ª–æ—Å–∫–∏–π¬ª

–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è CVD
1Ô∏è‚É£ –•—Ä–∞–Ω–∏—Ç—å cvd_start / cvd_end –≤ 1m —Å–≤–µ—á–∞—Ö
–ü–ª—é—Å—ã:

–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Å–æ –≤—Å–µ–º–∏ TF
–ú–æ–∂–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–∏ –Ω–∞ –ª—é–±–æ–º —É—Ä–æ–≤–Ω–µ
–î–∞–Ω–Ω—ã–µ –≥–æ—Ç–æ–≤—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ "–∏–∑ –∫–æ—Ä–æ–±–∫–∏"
–ú–∏–Ω—É—Å—ã:

–ù—É–∂–Ω–æ –º–µ–Ω—è—Ç—å 
SmartCandleRow
 (–¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è)
–ù—É–∂–Ω–æ –º–µ–Ω—è—Ç—å 
StateEngine
 (–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ)
–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Ä–∞–∑–º–µ—Ä –∑–∞–ø–∏—Å–∏ –≤ –ë–î
2Ô∏è‚É£ –°—á–∏—Ç–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π CVD –≤ —Å–∏–≥–Ω–∞–ª–∫–µ (SignalAnalyzer)
–ü–ª—é—Å—ã:

–ù–µ —Ç—Ä–æ–≥–∞–µ–º –∫–æ–ª–ª–µ–∫—Ç–æ—Ä ‚Äî –æ–Ω –¥–µ–ª–∞–µ—Ç —Å–≤–æ—ë –¥–µ–ª–æ
–°–∏–≥–Ω–∞–ª–∫–∞ —Å–∞–º–∞ —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–æ–π —Ä–∞—Å—á—ë—Ç –µ–π –Ω—É–∂–µ–Ω
–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cvd = cvd_prev + delta
–ú–∏–Ω—É—Å—ã:

–°–∏–≥–Ω–∞–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å cvd_start –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö
üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
–î–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è ‚Äî –ª—É—á—à–µ –≤–∞—Ä–∏–∞–Ω—Ç 2 (—Å—á–∏—Ç–∞—Ç—å –≤ —Å–∏–≥–Ω–∞–ª–∫–µ):

–ö–æ–ª–ª–µ–∫—Ç–æ—Ä —É–∂–µ —Ö—Ä–∞–Ω–∏—Ç delta –¥–ª—è –∫–∞–∂–¥–æ–π 1m —Å–≤–µ—á–∏ ‚Äî —ç—Ç–æ –≥–ª–∞–≤–Ω–æ–µ
cvd –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: cvd_start = cvd - delta, cvd_end = cvd
–°–∏–≥–Ω–∞–ª–∫–∞ –≤—Å—ë —Ä–∞–≤–Ω–æ –≥—Ä—É–∑–∏—Ç –∏—Å—Ç–æ—Ä–∏—é ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ
typescript
// –í —Å–∏–≥–Ω–∞–ª–∫–µ:
const cvdEnd = candle.cvd;
const cvdStart = candle.cvd - candle.delta;
const cvdDelta = cvdEnd - cvdStart; // === candle.delta
–ü–æ—á–µ–º—É —ç—Ç–æ –ª—É—á—à–µ:

–ö–æ–ª–ª–µ–∫—Ç–æ—Ä –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–º –∏ –±—ã—Å—Ç—Ä—ã–º
–ù–µ –Ω–∞–¥–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É –ë–î
–í—Å—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Å–∏–≥–Ω–∞–ª–∫–µ



/ –í –±–æ—Ç–µ (NestJS / Express / –ª—é–±–æ–π Node.js —Å–µ—Ä–≤–∏—Å)
import { io, Socket } from 'socket.io-client';
export class CollectorClient {
  private socket: Socket;
  constructor(collectorUrl: string = 'http://localhost:3000') {
    this.socket = io(collectorUrl, {
      reconnection: true,
      reconnectionDelay: 1000,
    });
    this.socket.on('connect', () => {
      console.log('[Collector] Connected');
      this.socket.emit('subscribe', '1m');  // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ 1m
    });
    this.socket.on('candle', (row) => {
      this.handleCandle(row);
    });
    this.socket.on('disconnect', () => {
      console.log('[Collector] Disconnected');
    });
  }
  private handleCandle(row: any) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–µ—á–∏ –≤ –±–æ—Ç–µ
    console.log(`[${row.tf}] ${row.symbol}`, row.c);
  }
  subscribe(tf: '1m' | '5m' | '15m') {
    this.socket.emit('subscribe', tf);
  }
  disconnect() {
    this.socket.disconnect();
  }
}
–£—Å—Ç–∞–Ω–æ–≤–∫–∞:

bash
npm install socket.io-client